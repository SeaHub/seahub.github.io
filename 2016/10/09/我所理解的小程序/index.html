<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>我所理解的小程序 | Words Of Life</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Words Of Life">
    <meta name="author" content="Seahub">
    <meta name="description" content="Record the things appearing in my life" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Words Of Life" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='http://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="https://github.com/SeaHub/BlogOfComputerNetwork" target="_BLANK" class="animsition-link">BlogOfComputerNetwork</a></li>
                    
                        <li><a href="https://github.com/SeaHub/PigRaising" target="_BLANK" class="animsition-link">PigRaising</a></li>
                    
                </ul>
            </li>
            
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/C/" class="animsition-link">C#<small>(1)</small></a></li>
				    
				    <li><a href="/categories/C/代码优化/" class="animsition-link">代码优化<small>(1)</small></a></li>
				    
				    <li><a href="/categories/小记/" class="animsition-link">小记<small>(1)</small></a></li>
				    
				    <li><a href="/categories/工具/" class="animsition-link">工具<small>(1)</small></a></li>
				    
				    <li><a href="/categories/微信小程序/" class="animsition-link">微信小程序<small>(1)</small></a></li>
				    
				</ul>
        	</li>
			
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">Words Of Life</a></li>
                            <li class="nolink"><span>Always Be Concentrated.</span></li>
                            
                            <li><a href="https://github.com/SeaHub" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Enjoy!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2016-10-09T00:33:54.000Z" itemprop="datePublished">
          2016-10-09
      </time>
    
    
    | 
    <a href='/tags/Seahub/'>Seahub</a>,
    
    <a href='/tags/微信小程序/'>微信小程序</a>,
    
    <a href='/tags/WechatApp/'>WechatApp</a>,
    
    <a href='/tags/Hackathon/'>Hackathon</a>,
    
    <a href='/tags/iFanr-x-Segmentfault/'>iFanr x Segmentfault</a>
    
    
</span>
                <h1>我所理解的小程序</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<ul>
<li><p>摘要：Hackathon的见闻与微信小程序的真机初体验</p>
<a id="more"></a>
<hr>
</li>
<li><p>前言</p>
<ul>
<li>之前一直都很想参加一场真正的黑客马拉松，奈何大部分的国内黑客马拉松都在北上杭，而我作为穷苦的学生党，没有额外的资金买车票去远方追求理想与梦想。所幸，2016年第一场在广州举办的黑客马拉松，我有幸坑了两个朋友（后端玩家Samray、Web前端玩家Nomad），一同参与其中，一天多的专注，让我有幸体验了一下未来的小程序，感触颇多，因记此文。文章前半部分叙述Hackathon相关的内容，后半部分叙述小程序相关的内容，读者若对前半部分不感兴趣，跳过即可。</li>
</ul>
<hr>
<h4 id="Hackathon"><a href="#Hackathon" class="headerlink" title="Hackathon"></a>Hackathon</h4><blockquote>
<p>Hackathon Place: GuangZhou TIT iFanr</p>
<p>Hackathon Date: 2016.10.7 10:00 - 2016.10.8 15:00</p>
<p>Hackathon Topic: The Future WeChat App</p>
</blockquote>
<ul>
<li><p>Hackathon Pre：</p>
<ul>
<li>本次Hackathon的主题要求是“未来、实用”。我个人感觉这个主题范围十分宽。思考一个多小时后，我们队伍最终选择的Hackathon Project是Pig Raising，创意参考了<a href="http://www.forestapp.cc/" target="_blank" rel="external">Forest</a>：“在一定时间内，限制人们不能触碰手机，否则任务失败”。之所以想到这个创意，是因为我们认为小程序的弊端在于开启小程序后，微信就不能切换到聊天界面（即微信与微信小程序只能保留一个界面）。我们希望通过Pig Raising将这个弊端消除，使用Pig Raising时，目标就是不使用其他程序，所以即使保留一个界面也无妨。</li>
<li>在开始项目前，我们三人只阅读了官方文档，而且我与另外一位朋友（Samray）都没有JavaScript的编程经验，甚至连部分语法都不太清楚，所以这个项目对我们的速学能力有蛮大的要求。</li>
<li>最后我们决定由Nomad负责WXSS、WXML的页面部分编写，我负责JSON、JavaScript的逻辑部分编写，因为项目不需要后端环境，所以Samray负责美工及路演相关的准备。</li>
</ul>
</li>
<li><p>Hackathon In：</p>
<ul>
<li>Hackathon Environment<ul>
<li>感觉我们队伍使用的Hackathon工具相比其他队伍而言，还是比较有优势的，因此稍作讨论，希望能够给其他Hackathon Team稍作参考<ul>
<li>编程环境：macOS Sierra 10.12 + 微信Web开发者工具 + Egret Wing Verison 3.2.0</li>
<li>同步环境：Resilio Sync Version 2.4.0 + Github</li>
<li>环境使用：微信Web开发者工具用于动作调试，Egret Wing 3用于代码编辑 + 界面预览（官方的IDE代码编辑能力实在太差:-( ）。为了省去合并的烦恼，我和Nomad是同时编辑同一个项目下的不同文件（eg：Nomad编辑index.wxss、index.wxml，我编辑index.json、index.js）。也许你会问，不用git/svn，如何同步合并代码？我们使用了Resilio Sync这个小工具。它能够在电脑上创建一块共享盘，供有同步Key的朋友访问。相比于其他工具，它的同步的速度十分快，我们把项目放在了共享盘中，基本上Nomad一编辑完wxss/wxml后几秒，我这边的项目文件中已经能看到最新的代码了。这样的短延迟完全不影响我们的编码，也省去了事后合并的烦恼。Github在我们团队中主要用来存放了一些请求资源，没有起到项目代码控制的作用。</li>
<li>建议：在能够面对面编程的小团队（3-5人）中，感觉直接使用Resilio Sync合并代码更加有优势</li>
</ul>
</li>
</ul>
</li>
<li>Hackathon Coding<ul>
<li>Coding：编程过程是比较枯燥的，Hackathon中后期基本完成主体功能后就感觉十分困了，后期思路也没有前期的清晰。这个项目的难点主要在于主界面的圆圈倒计时上，其次是Pig Farm界面的随机位置选择上，花了不少时间，其他部分都比较容易。编码对于我这个JavaScript小白而言，就是查文档（微信小程序文档 + JavaScript文档 + w3school资料），感觉项目的实现还是比较容易的。</li>
</ul>
</li>
</ul>
</li>
<li><p>Hackathon After：</p>
<ul>
<li>很遗憾，项目没有荣获什么奖。但是我们的队员收获都挺大的，由于iFanr提供了App ID供我们测试，因此我们也有幸感受到微信小程序的未来，以及认识了一群大神。我个人技术的提升，大概可以说是24小时JavaScript从入门到抢月饼 :-）。感觉不错，但是深感自己的JavaScript代码写的很丑，还是得多多阅读实践方可。</li>
</ul>
</li>
<li><p>Pig Raising项目已经开源，有兴趣的朋友可以前往一试 =&gt; <a href="https://github.com/SeaHub/PigRaising" target="_blank" rel="external">传送门</a>  </p>
<img src="/2016/10/09/我所理解的小程序/1.jpeg" alt="Group Photo" title="Group Photo">
</li>
</ul>
</li>
</ul>
<hr>
<h4 id="Wechat-App"><a href="#Wechat-App" class="headerlink" title="Wechat App"></a>Wechat App</h4><ul>
<li><p>小程序的开发</p>
<ul>
<li>小程序的开发成本总体而言还是比较低的，即使是像我这样不会Web前端的iOS码农，甚至对JavaScript只是一知半懂的iOS码农也能快速在1~2天内开发出一个小程序（当然，看文档时间另算）。</li>
<li>小程序的权限目前而言感觉还是比较收的比较紧的，很多数据都不能够获取，这也暂时限制了微信小程序的应用前景，希望以后会有所放开。</li>
</ul>
</li>
<li><p>小程序的真机体验</p>
<ul>
<li><p>测试环境</p>
<ul>
<li>iPhone 6S Plus</li>
<li>iOS 10</li>
<li>中速偏慢的Wifi环境</li>
</ul>
</li>
<li><p>谈谈体验：总体而言，真机体验和模拟器体验是不一样的。我个人总结为以下几点：</p>
<ul>
<li>模拟器没有显示微信自动生成的导航栏</li>
<li>模拟器的适配布局有偏移(eg:同样是iPhone 6S Plus，模拟器6SP上的(x, y)坐标与真机6SP上的(x, y)坐标有区别，有少量的偏移)</li>
<li>IDE有部分Bug，模拟器上跑的程序正常，但真机上跑的程序可能会出现Bug</li>
<li>微信小程序1M的真机代码大小限制</li>
</ul>
</li>
<li><p>真机调试的坑</p>
<ul>
<li><p>调试的方法</p>
<ul>
<li>真机调试上也有一个类似模拟器中的控制台，同行们同样可以通过console.log()进行调试。二分法调试(注释 + 输出)应该是目前真机小程序的最好方法了。</li>
</ul>
</li>
<li><p>真机运行图</p>
<ul>
<li>目前真机调试的流程：在微信Web开发者工具中上传代码 =&gt; 官方自动生成一个二维码 =&gt; 只有绑定了该App ID的微信用户能够扫描该二维码 =&gt; 扫描后自动在微信中打开小程序</li>
<li>微信导航栏左上角按钮点击后直接返回微信，右上角按钮点击后出现菜单，菜单包含（控制台，推出，取消等按钮）</li>
</ul>
<img src="/2016/10/09/我所理解的小程序/2.jpeg" alt="App" title="App">
</li>
<li><p>第一次将应用弄到手机上跑的时候，主要遇到了几个神奇的Bug，在此分享一下，避免同行入坑</p>
<ul>
<li><p>Bug 1 - IDE Bug - this.data.status</p>
<ul>
<li><p>Bug 1 Code</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> STATUS_WAITING = <span class="number">0</span> <span class="comment">// 应用开始时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_RUNNING = <span class="number">1</span> <span class="comment">// 应用计时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_COMPLETED = <span class="number">2</span> <span class="comment">// 应用完成状态</span></div><div class="line"></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    <span class="comment">// 计时状态 - 动态</span></div><div class="line">    status: STATUS_WAITING</div><div class="line">  &#125;,</div><div class="line">  </div><div class="line">  startTimer: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (status !== STATUS_RUNNING) &#123;</div><div class="line">  		<span class="comment">// Something</span></div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">  		<span class="comment">// Something</span></div><div class="line">	&#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Bug 1 Code Review</p>
<ul>
<li>这段代码仔细分析后，应该可以看出是<code>status</code>写错了，应该使用<code>this.data.status</code>获取。这其实是一个比较简单的小问题，为什么我要抽出来说呢？主要是因为这段在模拟器上是能够正常使用的（即IDE通过编译，运行也是正常的，能够触发后续事件）。但是在真机就会出现明显的Bug（卡死，即无反应）。一般而言，官方IDE在我们没有写<code>this.data</code>时，都是会提醒的，但是不排除像我这种特殊情况。所以，当真机调试出现迷之Bug时，不妨看看是不是这个问题。</li>
</ul>
</li>
<li><p>Bug 1 Correct Code</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> STATUS_WAITING = <span class="number">0</span> <span class="comment">// 应用开始时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_RUNNING = <span class="number">1</span> <span class="comment">// 应用计时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_COMPLETED = <span class="number">2</span> <span class="comment">// 应用完成状态</span></div><div class="line"></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    <span class="comment">// 计时状态 - 动态</span></div><div class="line">    status: STATUS_WAITING</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  startTimer: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.data.status !== STATUS_RUNNING) &#123;</div><div class="line">      <span class="comment">// Something</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="comment">// Something</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<ul>
<li><p>Bug 2 - Layout Change - e.target.offsetTop</p>
<ul>
<li>Bug 2 Code</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">action-sheet</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123;actionSheetHidden&#125;&#125;"</span> <span class="attr">bindchange</span>=<span class="string">"actionSheetChange"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;actionSheetItems&#125;&#125;"</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">action-sheet-item</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">bindtap</span>=<span class="string">"bindItemTap"</span> <span class="attr">data-name</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;</div><div class="line">    	<span class="tag">&lt;/<span class="name">action-sheet-item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">action-sheet-cancel</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">action-sheet-cancel</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">action-sheet</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bindItemTap: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">	<span class="keyword">let</span> idx = e.target.offsetTop / <span class="number">38</span></div><div class="line">	<span class="comment">// 使用idx去判断点击了actionSheet中哪一个按钮</span></div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      selectedTime: PIG_TIME[PIG_NAME_ARR[idx]],</div><div class="line">      showTime: PIG_TIME[PIG_NAME_ARR[idx]] + <span class="string">":00"</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Bug 2 Code Review</p>
<ul>
<li>这段代码同样在模拟器上跑的好好的，但是一到真机上就出现Bug（卡死）。后来分析过后主要发现是布局不一样。同样是iPhone 6S Plus，模拟器6SP上的(x, y)坐标与真机6SP上的(x, y)坐标有区别，有少量的偏移。所以，得到的offSet不能被38整除。使用浮点数值作为数组下标值，结果可想而知。actionSheet按钮判断应使用<code>id</code>判断actionSheet的按钮。</li>
</ul>
</li>
<li><p>Bug 2 Correct Code</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">action-sheet</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123;actionSheetHidden&#125;&#125;"</span> <span class="attr">bindchange</span>=<span class="string">"actionSheetChange"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;actionSheetItems&#125;&#125;"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">action-sheet-item</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">bindtap</span>=<span class="string">"bindItemTap"</span> <span class="attr">data-name</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">action-sheet-item</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">block</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">action-sheet-cancel</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">action-sheet-cancel</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">action-sheet</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bindItemTap: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> idx = e.currentTarget.id</div><div class="line">	<span class="comment">// 使用idx去判断点击了actionSheet中哪一个按钮</span></div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      selectedTime: PIG_TIME[PIG_NAME_ARR[idx]],</div><div class="line">      showTime: PIG_TIME[PIG_NAME_ARR[idx]] + <span class="string">":00"</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<ul>
<li>Bug 3 - 真机代码大小限制<ul>
<li>微信小程序限制了小程序大小为1M以内。而由于我们队伍的小程序有许多资源（音频、图片）等，所以项目文件夹的大小是远远超过了1M的。那怎么办？只有把资源文件放在后端，再进行资源请求。我们把资源放在了Github，然后在使用过程对资源进行了请求，请求后进行缓存，避免二次加载。这样做后，项目文件立刻降到了400多Kb。我觉得代码限制，这个点也是跑模拟器的时候不会注意到的。而对于部分开发者（如打算把Native app完全迁移的朋友），哪怕除去资源文件，我的纯代码就是这么大，微信不给上传，怎么办？我觉得解决方案应该能够参考iOS的热更新，把部分程序放在后端，在实际用到页面后再进行请求。</li>
</ul>
</li>
</ul>
<hr>
</li>
</ul>
</li>
</ul>
</li>
<li><p>小程序的应用前景</p>
<ul>
<li><p>作为一个希望有产品思维的iOS码农，我觉得小程序未来在部分领域是十分有潜力的，下图是我个人比较看好的小程序应用方向。我认为，小程序正正应该是“用完即走”，过多的停留还是应该留给Native App来处理。毕竟，总不可能在微信里面在造一个小微信吧:-P？</p>
<img src="/2016/10/09/我所理解的小程序/3.png" alt="WechatApp Application" title="WechatApp Application">
</li>
<li><p>Wechat App和RN，我个人感觉还是蛮大区别的，RN更多的是应用在Hybrid App中，但Wechat App由于其不能在浏览器中打开，可能更多的还是会自成一派。</p>
</li>
<li><p>最后我想东拼西凑的一段话来结束这篇文章，望博君一笑：</p>
<blockquote>
<p>不懂互联网的普通人往往过高的估算小程序的价值与意义，而懂互联网的程序员往往是低估了小程序的未来价值。在我看来，唯一不变的只有变化，何不拥抱这场变化？Just Kiss The Change！</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>Last Edited：2016.10.9</li>
<li>Author：@Seahub</li>
<li>Please <a href="Seahubc@qq.com">contact me</a> if you want to share this Article, 3Q~</li>
</ul>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2016/10/12/从小实验探代码优化2/" style="float: left;">
        ← 从小实验探代码优化
    </a>
    
    
    <a class="pull-right" href="/2016/09/25/在校园网上使用IPv6/">
        在校园网上使用IPv6 →
    </a>
    
</nav>

        <div class="duoshuo"></div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Seahub. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/SeaHub" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
