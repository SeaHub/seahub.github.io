<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Seahub,微信小程序,WechatApp,Hackathon,iFanr x Segmentfault," />





  <link rel="alternate" href="/atom.xml" title="Words Of Life" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="摘要：Hackathon的见闻与微信小程序的真机初体验">
<meta property="og:type" content="article">
<meta property="og:title" content="我所理解的小程序">
<meta property="og:url" content="http://yoursite.com/2016/10/09/我所理解的小程序/index.html">
<meta property="og:site_name" content="Words Of Life">
<meta property="og:description" content="摘要：Hackathon的见闻与微信小程序的真机初体验">
<meta property="og:image" content="http://yoursite.com/2016/10/09/我所理解的小程序/1.jpeg">
<meta property="og:image" content="http://yoursite.com/2016/10/09/我所理解的小程序/2.jpeg">
<meta property="og:image" content="http://yoursite.com/2016/10/09/我所理解的小程序/3.png">
<meta property="og:updated_time" content="2017-02-26T14:49:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我所理解的小程序">
<meta name="twitter:description" content="摘要：Hackathon的见闻与微信小程序的真机初体验">
<meta name="twitter:image" content="http://yoursite.com/2016/10/09/我所理解的小程序/1.jpeg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2016/10/09/我所理解的小程序/"/>





  <title> 我所理解的小程序 | Words Of Life </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Words Of Life</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Record the things appearing in my life</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/09/我所理解的小程序/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Seahub">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Words Of Life">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Words Of Life" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                我所理解的小程序
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-10-09T08:33:54+08:00">
                2016-10-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/微信小程序/" itemprop="url" rel="index">
                    <span itemprop="name">微信小程序</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <ul>
<li><p>摘要：Hackathon的见闻与微信小程序的真机初体验</p>
<a id="more"></a>
</li>
</ul>
<hr>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul>
<li><p>之前一直都很想参加一场真正的黑客马拉松，奈何大部分的国内黑客马拉松都在北上杭，而我作为穷苦的学生党，没有额外的资金买车票去远方追求理想与梦想。所幸，2016年第一场在广州举办的黑客马拉松，我有幸坑了两个朋友（后端玩家Samray、Web前端玩家Nomad），一同参与其中，一天多的专注，让我有幸体验了一下未来的小程序，感触颇多，因记此文。文章前半部分叙述Hackathon相关的内容，后半部分叙述小程序相关的内容，读者若对前半部分不感兴趣，跳过即可。</p>
<hr>
<h4 id="Hackathon"><a href="#Hackathon" class="headerlink" title="Hackathon"></a>Hackathon</h4><blockquote>
<p>Hackathon Place: GuangZhou TIT iFanr</p>
<p>Hackathon Date: 2016.10.7 10:00 - 2016.10.8 15:00</p>
<p>Hackathon Topic: The Future WeChat App</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>Hackathon Pre：</p>
<ul>
<li>本次Hackathon的主题要求是“未来、实用”。我个人感觉这个主题范围十分宽。思考一个多小时后，我们队伍最终选择的Hackathon Project是Pig Raising，创意参考了<a href="http://www.forestapp.cc/" target="_blank" rel="external">Forest</a>：“在一定时间内，限制人们不能触碰手机，否则任务失败”。之所以想到这个创意，是因为我们认为小程序的弊端在于开启小程序后，微信就不能切换到聊天界面（即微信与微信小程序只能保留一个界面）。我们希望通过Pig Raising将这个弊端消除，使用Pig Raising时，目标就是不使用其他程序，所以即使保留一个界面也无妨。</li>
<li>在开始项目前，我们三人只阅读了官方文档，而且我与另外一位朋友（Samray）都没有JavaScript的编程经验，甚至连部分语法都不太清楚，所以这个项目对我们的速学能力有蛮大的要求。</li>
<li>最后我们决定由Nomad负责WXSS、WXML的页面部分编写，我负责JSON、JavaScript的逻辑部分编写，因为项目不需要后端环境，所以Samray负责美工及路演相关的准备。</li>
</ul>
</li>
<li><p>Hackathon In：</p>
<ul>
<li>Hackathon Environment<ul>
<li>感觉我们队伍使用的Hackathon工具相比其他队伍而言，还是比较有优势的，因此稍作讨论，希望能够给其他Hackathon Team稍作参考<ul>
<li>编程环境：macOS Sierra 10.12 + 微信Web开发者工具 + Egret Wing Verison 3.2.0</li>
<li>同步环境：Resilio Sync Version 2.4.0 + Github</li>
<li>环境使用：微信Web开发者工具用于动作调试，Egret Wing 3用于代码编辑 + 界面预览（官方的IDE代码编辑能力实在太差:-( ）。为了省去合并的烦恼，我和Nomad是同时编辑同一个项目下的不同文件（eg：Nomad编辑index.wxss、index.wxml，我编辑index.json、index.js）。也许你会问，不用git/svn，如何同步合并代码？我们使用了Resilio Sync这个小工具。它能够在电脑上创建一块共享盘，供有同步Key的朋友访问。相比于其他工具，它的同步的速度十分快，我们把项目放在了共享盘中，基本上Nomad一编辑完wxss/wxml后几秒，我这边的项目文件中已经能看到最新的代码了。这样的短延迟完全不影响我们的编码，也省去了事后合并的烦恼。Github在我们团队中主要用来存放了一些请求资源，没有起到项目代码控制的作用。</li>
<li>建议：在能够面对面编程的小团队（3-5人）中，感觉直接使用Resilio Sync合并代码更加有优势</li>
</ul>
</li>
</ul>
</li>
<li>Hackathon Coding<ul>
<li>Coding：编程过程是比较枯燥的，Hackathon中后期基本完成主体功能后就感觉十分困了，后期思路也没有前期的清晰。这个项目的难点主要在于主界面的圆圈倒计时上，其次是Pig Farm界面的随机位置选择上，花了不少时间，其他部分都比较容易。编码对于我这个JavaScript小白而言，就是查文档（微信小程序文档 + JavaScript文档 + w3school资料），感觉项目的实现还是比较容易的。</li>
</ul>
</li>
</ul>
</li>
<li><p>Hackathon After：</p>
<ul>
<li>很遗憾，项目没有荣获什么奖。但是我们的队员收获都挺大的，由于iFanr提供了App ID供我们测试，因此我们也有幸感受到微信小程序的未来，以及认识了一群大神。我个人技术的提升，大概可以说是24小时JavaScript从入门到抢月饼 :-）。感觉不错，但是深感自己的JavaScript代码写的很丑，还是得多多阅读实践方可。</li>
</ul>
</li>
<li><p>Pig Raising项目已经开源，有兴趣的朋友可以前往一试 =&gt; <a href="https://github.com/SeaHub/PigRaising" target="_blank" rel="external">传送门</a>  </p>
<p>​    <img src="/2016/10/09/我所理解的小程序/1.jpeg" alt="Group Photo" title="Group Photo"></p>
</li>
</ul>
<hr>
<h4 id="Wechat-App"><a href="#Wechat-App" class="headerlink" title="Wechat App"></a>Wechat App</h4><ul>
<li><p>小程序的开发</p>
<ul>
<li>小程序的开发成本总体而言还是比较低的，即使是像我这样不会Web前端的iOS码农，甚至对JavaScript只是一知半懂的iOS码农也能快速在1~2天内开发出一个小程序（当然，看文档时间另算）。</li>
<li>小程序的权限目前而言感觉还是比较收的比较紧的，很多数据都不能够获取，这也暂时限制了微信小程序的应用前景，希望以后会有所放开。</li>
</ul>
</li>
<li><p>小程序的真机体验</p>
<ul>
<li><p>测试环境</p>
<ul>
<li>iPhone 6S Plus</li>
<li>iOS 10</li>
<li>中速偏慢的Wifi环境</li>
</ul>
</li>
<li><p>谈谈体验：总体而言，真机体验和模拟器体验是不一样的。我个人总结为以下几点：</p>
<ul>
<li>模拟器没有显示微信自动生成的导航栏</li>
<li>模拟器的适配布局有偏移(eg:同样是iPhone 6S Plus，模拟器6SP上的(x, y)坐标与真机6SP上的(x, y)坐标有区别，有少量的偏移)</li>
<li>IDE有部分Bug，模拟器上跑的程序正常，但真机上跑的程序可能会出现Bug</li>
<li>微信小程序1M的真机代码大小限制</li>
</ul>
</li>
<li><p>真机调试的坑</p>
<ul>
<li><p>调试的方法</p>
<ul>
<li>真机调试上也有一个类似模拟器中的控制台，同行们同样可以通过console.log()进行调试。二分法调试(注释 + 输出)应该是目前真机小程序的最好方法了。</li>
</ul>
</li>
<li><p>真机运行图</p>
<ul>
<li>目前真机调试的流程：在微信Web开发者工具中上传代码 =&gt; 官方自动生成一个二维码 =&gt; 只有绑定了该App ID的微信用户能够扫描该二维码 =&gt; 扫描后自动在微信中打开小程序</li>
<li>微信导航栏左上角按钮点击后直接返回微信，右上角按钮点击后出现菜单，菜单包含（控制台，推出，取消等按钮）</li>
</ul>
<img src="/2016/10/09/我所理解的小程序/2.jpeg" alt="App" title="App">
</li>
<li><p>第一次将应用弄到手机上跑的时候，主要遇到了几个神奇的Bug，在此分享一下，避免同行入坑</p>
<ul>
<li><p>Bug 1 - IDE Bug - this.data.status</p>
<ul>
<li><p>Bug 1 Code</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> STATUS_WAITING = <span class="number">0</span> <span class="comment">// 应用开始时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_RUNNING = <span class="number">1</span> <span class="comment">// 应用计时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_COMPLETED = <span class="number">2</span> <span class="comment">// 应用完成状态</span></div><div class="line"></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    <span class="comment">// 计时状态 - 动态</span></div><div class="line">    status: STATUS_WAITING</div><div class="line">  &#125;,</div><div class="line">  </div><div class="line">  startTimer: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">	<span class="keyword">if</span> (status !== STATUS_RUNNING) &#123;</div><div class="line">  		<span class="comment">// Something</span></div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">  		<span class="comment">// Something</span></div><div class="line">	&#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Bug 1 Code Review</p>
<ul>
<li>这段代码仔细分析后，应该可以看出是<code>status</code>写错了，应该使用<code>this.data.status</code>获取。这其实是一个比较简单的小问题，为什么我要抽出来说呢？主要是因为这段在模拟器上是能够正常使用的（即IDE通过编译，运行也是正常的，能够触发后续事件）。但是在真机就会出现明显的Bug（卡死，即无反应）。一般而言，官方IDE在我们没有写<code>this.data</code>时，都是会提醒的，但是不排除像我这种特殊情况。所以，当真机调试出现迷之Bug时，不妨看看是不是这个问题。</li>
</ul>
</li>
<li><p>Bug 1 Correct Code</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> STATUS_WAITING = <span class="number">0</span> <span class="comment">// 应用开始时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_RUNNING = <span class="number">1</span> <span class="comment">// 应用计时状态</span></div><div class="line"><span class="keyword">const</span> STATUS_COMPLETED = <span class="number">2</span> <span class="comment">// 应用完成状态</span></div><div class="line"></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    <span class="comment">// 计时状态 - 动态</span></div><div class="line">    status: STATUS_WAITING</div><div class="line">  &#125;,</div><div class="line"></div><div class="line">  startTimer: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.data.status !== STATUS_RUNNING) &#123;</div><div class="line">      <span class="comment">// Something</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="comment">// Something</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<ul>
<li><p>Bug 2 - Layout Change - e.target.offsetTop</p>
<ul>
<li>Bug 2 Code</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">action-sheet</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123;actionSheetHidden&#125;&#125;"</span> <span class="attr">bindchange</span>=<span class="string">"actionSheetChange"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;actionSheetItems&#125;&#125;"</span>&gt;</span></div><div class="line">    	<span class="tag">&lt;<span class="name">action-sheet-item</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">bindtap</span>=<span class="string">"bindItemTap"</span> <span class="attr">data-name</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;</div><div class="line">    	<span class="tag">&lt;/<span class="name">action-sheet-item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">action-sheet-cancel</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">action-sheet-cancel</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">action-sheet</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bindItemTap: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">	<span class="keyword">let</span> idx = e.target.offsetTop / <span class="number">38</span></div><div class="line">	<span class="comment">// 使用idx去判断点击了actionSheet中哪一个按钮</span></div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      selectedTime: PIG_TIME[PIG_NAME_ARR[idx]],</div><div class="line">      showTime: PIG_TIME[PIG_NAME_ARR[idx]] + <span class="string">":00"</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Bug 2 Code Review</p>
<ul>
<li>这段代码同样在模拟器上跑的好好的，但是一到真机上就出现Bug（卡死）。后来分析过后主要发现是布局不一样。同样是iPhone 6S Plus，模拟器6SP上的(x, y)坐标与真机6SP上的(x, y)坐标有区别，有少量的偏移。所以，得到的offSet不能被38整除。使用浮点数值作为数组下标值，结果可想而知。actionSheet按钮判断应使用<code>id</code>判断actionSheet的按钮。</li>
</ul>
</li>
<li><p>Bug 2 Correct Code</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">action-sheet</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123;actionSheetHidden&#125;&#125;"</span> <span class="attr">bindchange</span>=<span class="string">"actionSheetChange"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;actionSheetItems&#125;&#125;"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">action-sheet-item</span> <span class="attr">id</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">bindtap</span>=<span class="string">"bindItemTap"</span> <span class="attr">data-name</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span>&gt;</span>&#123;&#123;item&#125;&#125;</div><div class="line">		<span class="tag">&lt;/<span class="name">action-sheet-item</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">block</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">action-sheet-cancel</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">action-sheet-cancel</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">action-sheet</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bindItemTap: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> idx = e.currentTarget.id</div><div class="line">	<span class="comment">// 使用idx去判断点击了actionSheet中哪一个按钮</span></div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      selectedTime: PIG_TIME[PIG_NAME_ARR[idx]],</div><div class="line">      showTime: PIG_TIME[PIG_NAME_ARR[idx]] + <span class="string">":00"</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<ul>
<li>Bug 3 - 真机代码大小限制<ul>
<li>微信小程序限制了小程序大小为1M以内。而由于我们队伍的小程序有许多资源（音频、图片）等，所以项目文件夹的大小是远远超过了1M的。那怎么办？只有把资源文件放在后端，再进行资源请求。我们把资源放在了Github，然后在使用过程对资源进行了请求，请求后进行缓存，避免二次加载。这样做后，项目文件立刻降到了400多Kb。我觉得代码限制，这个点也是跑模拟器的时候不会注意到的。而对于部分开发者（如打算把Native app完全迁移的朋友），哪怕除去资源文件，我的纯代码就是这么大，微信不给上传，怎么办？我觉得解决方案应该能够参考iOS的热更新，把部分程序放在后端，在实际用到页面后再进行请求。</li>
</ul>
</li>
</ul>
<hr>
</li>
</ul>
</li>
</ul>
</li>
<li><p>小程序的应用前景</p>
<ul>
<li><p>作为一个希望有产品思维的iOS码农，我觉得小程序未来在部分领域是十分有潜力的，下图是我个人比较看好的小程序应用方向。我认为，小程序正正应该是“用完即走”，过多的停留还是应该留给Native App来处理。毕竟，总不可能在微信里面在造一个小微信吧:-P？</p>
<img src="/2016/10/09/我所理解的小程序/3.png" alt="WechatApp Application" title="WechatApp Application">
</li>
<li><p>Wechat App和RN，我个人感觉还是蛮大区别的，RN更多的是应用在Hybrid App中，但Wechat App由于其不能在浏览器中打开，可能更多的还是会自成一派。</p>
</li>
<li><p>最后我想东拼西凑的一段话来结束这篇文章，望博君一笑：</p>
<blockquote>
<p>不懂互联网的普通人往往过高的估算小程序的价值与意义，而懂互联网的程序员往往是低估了小程序的未来价值。在我看来，唯一不变的只有变化，何不拥抱这场变化？Just Kiss The Change！</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>Last Edited：2016.10.9</li>
<li>Author：@Seahub</li>
<li>Please <a href="Seahubc@qq.com">contact me</a> if you want to share this Article, 3Q~</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>五毛也是情, 一元也是爱</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/wechat-reward-image.jpeg" alt="Seahub WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Seahub/" rel="tag"># Seahub</a>
          
            <a href="/tags/微信小程序/" rel="tag"># 微信小程序</a>
          
            <a href="/tags/WechatApp/" rel="tag"># WechatApp</a>
          
            <a href="/tags/Hackathon/" rel="tag"># Hackathon</a>
          
            <a href="/tags/iFanr-x-Segmentfault/" rel="tag"># iFanr x Segmentfault</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/25/在校园网上使用IPv6/" rel="next" title="在校园网上使用IPv6">
                <i class="fa fa-chevron-left"></i> 在校园网上使用IPv6
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/10/12/从小实验探代码优化/" rel="prev" title="从小实验探代码优化">
                从小实验探代码优化 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Seahub" />
          <p class="site-author-name" itemprop="name">Seahub</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Hackathon"><span class="nav-number">1.0.1.</span> <span class="nav-text">Hackathon</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Wechat-App"><span class="nav-number">1.0.2.</span> <span class="nav-text">Wechat App</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Seahub</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
